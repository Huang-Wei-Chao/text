<% include ../header.ejs %>

<div style="padding-bottom: 20px">
    <a href="/article/add"><input class="btn btn-primary" type="button" value="发布新文章"></a>
</div>

<div>
    <table class="table table-bordered white-box table-striped">
        <thead>
        <tr>
            <th style="width: 10%">序号</th>
            <th style="width: 75%">标题</th>
            <th style="width: 15%">操作</th>
        </tr>
        </thead>
        <tbody>
        <%
        var count = 1
        for (let i = 0;i < articleItems.length;i++){
        %>
        <tr>
            <td> <%= count++ %> </td>
            <td><%= articleItems[i].title %></td>
            <td>
                <a href="/article/detail/<%= articleItems[i].id %>"
                   class="btn btn-primary btn-sm active" role="button">详情</a>
                <a href="/article/delete?id=<%= articleItems[i].id %>"
                   class="btn btn-danger btn-sm active" role="button"
                   onclick="JavaScript:return confirm('是否删除')">删除</a>
            </td>
        </tr>
        <% } %>
        </tbody>
    </table>
</div>

<div>
    <nav aria-label="Page navigation">
        <ul class="pagination"></ul>
    </nav>
</div>


<script>
    $('.pagination').bootstrapPaginator({
        bootstrapMajorVersion: 3,
        currentPage: 1,  //当前页
        totalPages: 5,   //总页数
        numberOfPages: 5,  //显示控件的数量 即1、2、3...按钮
        itemTexts: function (type, page, current) {
            switch (type) {
                case "first":
                    return "首页";
                case "prev":
                    return "上一页";
                case "next":
                    return "下一页";
                case "last":
                    return "末页";
                case "page":
                    return page;
            }
        },
        pageUrl: function (type, page, current) {
            "/article/list?page=" + page
        },

        onPageClicked: function (e, originalEvent, type, page) {

        }

    })
</script>

<% include ../footer.ejs %>

